<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>M-Security å‹¤å‹™ç³»çµ±</title>
    <style>
        :root { --p-blue: #1a5c9f; --p-dark: #333; --p-light: #e3f2fd; --p-danger: #d9534f; --p-warn: #fff3cd; }
        body { margin: 0; font-family: sans-serif; background: #f0f0f0; padding-bottom: 80px; }
        .header { background: var(--p-blue); color: white; padding: 15px; text-align: center; font-size: 1.2rem; font-weight: bold; position: sticky; top: 0; z-index: 100; }
        .section-title { background: var(--p-dark); color: white; padding: 10px 15px; font-size: 0.9rem; }
        .page { display: none; padding: 15px; background: white; min-height: 85vh; }
        .form-group { margin-bottom: 18px; }
        label { display: block; margin-bottom: 8px; font-weight: bold; color: var(--p-blue); border-left: 4px solid var(--p-blue); padding-left: 8px; }
        input, select, textarea { width: 100%; padding: 12px; border: 1px solid #ccc; border-radius: 4px; box-sizing: border-box; font-size: 1rem; }
        .btn-submit { background: var(--p-blue); color: white; border: none; width: 100%; padding: 16px; font-size: 1.1rem; border-radius: 5px; cursor: pointer; font-weight: bold; }
        
        /* ç™»å…¥é é¢ */
        #loginPage { display: flex; flex-direction: column; justify-content: center; align-items: center; height: 100vh; background: var(--p-blue); color: white; padding: 20px; box-sizing: border-box; }
        .login-box { background: white; padding: 30px; border-radius: 10px; width: 100%; max-width: 300px; color: #333; box-shadow: 0 4px 15px rgba(0,0,0,0.3); }
        .menu-item { background: var(--p-light); border-bottom: 1px solid #ccc; padding: 20px; text-align: center; color: #333; text-decoration: none; display: block; font-weight: 600; cursor: pointer; }
        .footer { position: fixed; bottom: 0; width: 100%; background: var(--p-blue); display: none; box-shadow: 0 -2px 10px rgba(0,0,0,0.2); }
        .nav-item { flex: 1; color: white; padding: 15px 5px; text-align: center; font-size: 0.85rem; cursor: pointer; border-right: 1px solid rgba(255,255,255,0.2); }
        .status-box { background: var(--p-warn); border: 1px solid #ffeeba; padding: 12px; border-radius: 5px; margin-bottom: 15px; font-size: 0.85rem; color: #856404; }
    </style>
</head>
<body>

<div id="loginPage">
    <div style="margin-bottom: 20px; font-size: 1.5rem; font-weight: bold;">M-Security å‹¤å‹™ç™»å…¥</div>
    <div class="login-box">
        <div class="form-group">
            <label>å¸³è™Ÿ (å§“å)</label>
            <input type="text" id="loginUser" placeholder="è«‹è¼¸å…¥å§“å">
        </div>
        <div class="form-group">
            <label>å¯†ç¢¼ (å·¥è™Ÿ)</label>
            <input type="password" id="loginPass" placeholder="è«‹è¼¸å…¥å·¥è™Ÿ">
        </div>
        <button class="btn-submit" style="width:100%" onclick="checkLogin()">æˆæ¬Šç™»å…¥</button>
    </div>
</div>

<div id="appContent" style="display:none;">
    <div class="header" id="pageTitle">è­¦è¡› SOP æŸ¥è©¢ APP</div>

    <div id="mainMenu">
        <div class="section-title">æ¥­å‹™åˆ†é¡æŸ¥è©¢</div>
        <div class="menu-item" onclick="showPage('transport', 'äº¤é€šé¡ - å‹¤å‹™ç™»è¨˜')">äº¤é€šé¡</div>
        <div class="menu-item" onclick="showPage('security', 'ä¿å®‰é¡ - å·¡é‚ç´€éŒ„')">ä¿å®‰é¡</div>
        <div class="menu-item" onclick="showPage('admin', 'è¡Œæ”¿é¡ - å…¬å‹™è³‡è¨Š')">è¡Œæ”¿é¡</div>
        <div class="menu-item" onclick="showPage('it', 'å¾Œå‹¤é¡ - æŠ€è¡“ç¶­è­·')">å¾Œå‹¤é¡</div>
        <div class="menu-item" onclick="showPage('emergency', 'å‹¤å‹™æŒ‡æ® - ç·Šæ€¥æ‡‰è®Š')">å‹¤å‹™æŒ‡æ®</div>
    </div>

    <div id="page-transport" class="page">
        <div class="form-group"><label>è»Šç‰Œè™Ÿç¢¼</label><input type="text" id="carId" placeholder="ABC-1234"></div>
        <div class="form-group"><label>é¡å‹</label><select><option>å¤–ä¾†å¤§è²¨è»Š</option><option>è¨ªå®¢è»Šè¼›</option></select></div>
        <button class="btn-submit" onclick="saveData('äº¤é€š')">æäº¤è³‡æ–™</button>
    </div>

    <div id="page-security" class="page">
        <div class="form-group"><label>å·¡é‚å€åŸŸ</label><select><option>å·¥å» å¤§é–€</option><option>å€‰åº«</option><option>é…é›»å®¤</option></select></div>
        <div class="form-group"><label>ç¾å ´æè¿°</label><textarea rows="3">ä¸€åˆ‡æ­£å¸¸</textarea></div>
        <button class="btn-submit" onclick="saveData('ä¿å®‰')">å„²å­˜ç´€éŒ„</button>
    </div>

    <div id="page-admin" class="page">
        <div class="form-group"><label>ä¸Šç­æ™‚é–“</label><input type="text" value="07:00 ~ 19:00" readonly></div>
        <div class="form-group"><label>äº¤æ¥äº‹é …</label><textarea id="adminMemo" rows="5" placeholder="è¼¸å…¥ä»Šæ—¥äº¤ä»£äº‹é …..."></textarea></div>
        <button class="btn-submit" onclick="saveData('è¡Œæ”¿')">å„²å­˜è¡Œæ”¿ç­†è¨˜</button>
    </div>

    <div id="page-it" class="page">
        <div class="status-box"><strong>ã€ä»»å‹™å­˜æª”ã€‘HP 15s 240G SSD è¨ˆç•«</strong><br>ç‹€æ…‹ï¼šå…‰æ¦®é€€ä¼‘ (2026-02-25)</div>
        <div class="form-group"><label>é›²ç«¯ç³»çµ±ç‹€æ…‹</label><div style="font-size:0.9rem;">âœ… åŒ…è£¹ç™»è¨˜ / âœ… è¨ªå®¢æ—¥èªŒ / âœ… ä¸»æ’ç­è¡¨</div></div>
        <div class="form-group"><label>æŠ€è¡“å¿ƒå¾—</label><textarea rows="3"></textarea></div>
        <button class="btn-submit" onclick="saveData('å¾Œå‹¤')">å„²å­˜æŠ€è¡“è³‡æ–™</button>
    </div>

    <div id="page-emergency" class="page">
        <div class="form-group"><label>ç·Šæ€¥ç¨‹åº¦</label><select id="emLvl"><option>ğŸ”´ ä¸€ç´šç·Šæ€¥</option><option>ğŸ”µ ä¸€èˆ¬ç•°å¸¸</option></select></div>
        <div class="form-group"><label>ç‹€æ³èªªæ˜</label><textarea rows="4"></textarea></div>
        <button class="btn-submit" style="background:var(--p-danger);" onclick="saveData('ç·Šæ€¥é€šå ±')">ç™¼é€é€šå ±</button>
    </div>

    <div class="footer" id="mainFooter">
        <div class="nav-item" onclick="goHome()">æ¥­å‹™åˆ†é¡</div>
        <div class="nav-item" onclick="showLogs()">æ­·å²ç´€éŒ„</div>
        <div class="nav-item" onclick="location.reload()">ç™»å‡º</div>
    </div>
</div>

<script>
    const VALID_USER = "ç›§å®¶æ…¶"; 
    const VALID_PASS = "D01762"; // é è¨­å¯†ç¢¼

    function checkLogin() {
        if(document.getElementById('loginUser').value === VALID_USER && document.getElementById('loginPass').value === VALID_PASS) {
            document.getElementById('loginPage').style.display = 'none';
            document.getElementById('appContent').style.display = 'block';
            document.getElementById('mainFooter').style.display = 'flex';
        } else { alert('å¸³å¯†éŒ¯èª¤ï¼'); }
    }

    function showPage(pageId, title) {
        document.getElementById('mainMenu').style.display = 'none';
        document.querySelectorAll('.page').forEach(p => p.style.display = 'none');
        document.getElementById('page-' + pageId).style.display = 'block';
        document.getElementById('pageTitle').innerText = title;
    }

    function goHome() {
        document.querySelectorAll('.page').forEach(p => p.style.display = 'none');
        document.getElementById('mainMenu').style.display = 'block';
        document.getElementById('pageTitle').innerText = 'è­¦è¡› SOP æŸ¥è©¢ APP';
    }

    function saveData(category) {
        const timestamp = new Date().toLocaleString();
        let history = JSON.parse(localStorage.getItem('PoliceSystemLogs') || '[]');
        history.push({ cat: category, time: timestamp });
        localStorage.setItem('PoliceSystemLogs', JSON.stringify(history));
        alert('ã€' + category + 'ã€‘ç´€éŒ„æˆåŠŸï¼\næ™‚é–“ï¼š' + timestamp);
        goHome();
    }

    function showLogs() {
        let history = JSON.parse(localStorage.getItem('PoliceSystemLogs') || '[]');
        if(history.length === 0) return alert('å°šç„¡ç´€éŒ„');
        alert('æœ€è¿‘ç´€éŒ„ï¼š' + history[history.length-1].cat + ' @ ' + history[history.length-1].time);
    }
</script>
</body>
</html>
